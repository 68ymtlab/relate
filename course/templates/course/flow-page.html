{% extends "course/course-base.html" %}

{% load crispy_forms_tags %}

{% block title %}
  [{{ page_data.next_ordinal }}/{{ flow_visit.page_count }}]
  {{title}} - {{ flow_desc.title}} - CourseFlow
{% endblock %}

{% block content %}
  {{ body|safe }}

  {% if form %}
    {% crispy form %}
  {% endif %}

  <form
    action="{% url "course.views.view_flow_page" course.identifier flow_identifier page_data.ordinal %}"
    method="POST">

    {% csrf_token %}

    <div class="well flow-well">
      {% if page_data.ordinal > 0 %}
        <a class="btn btn-default"
          href="{% url "course.views.view_flow_page" course.identifier flow_identifier page_data.previous_ordinal %}"
          role="button">&laquo; Previous</a>
      {% endif %}
      {{ page_data.next_ordinal }} / {{ flow_visit.page_count }}
      {% if page_data.next_ordinal < flow_visit.page_count %}
        <a class="btn btn-default"
          href="{% url "course.views.view_flow_page" course.identifier flow_identifier page_data.next_ordinal %}"
          role="button">Next &raquo;</a>
      {% endif %}
      <div style="float:right">
        <button type="submit" name="finish" class="btn btn-default">End session</button>
    </div>

    </div>
  </form>

{% endblock %}
